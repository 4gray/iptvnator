@if (itemDetails) {
    <button
        mat-button
        (click)="itemDetails = null"
        [attr.aria-label]="'SETTINGS.BACK_TO_HOME' | translate"
        class="back-button"
    >
        <mat-icon>arrow_back</mat-icon>
        {{ 'SETTINGS.BACK_TO_HOME' | translate }}
    </button>
    @switch (itemDetails.category_id) {
        @case ('vod') {
            <app-vod-details
                [item]="itemDetails.details"
                (playClicked)="
                    createLinkToPlayVodItv(
                        itemDetails.details.cmd,
                        itemDetails.details.info.name,
                        itemDetails.details.info.movie_image
                    )
                "
            />
        }
        @case ('series') {
            <app-stalker-series-view />
        }
    }
} @else {
    <app-favorites-layout
        [categories]="categories() ?? []"
        [favorites]="favoritesToShow() ?? []"
        [playlistSubtitle]="'Stalker Portal'"
        [playlistTitle]="currentPlaylist()?.title || 'Portal'"
        [selectedCategoryId]="selectedCategoryId()"
        (categoryClicked)="setCategoryId($event.category_id)"
        (removeFavorite)="removeFromFavorites($event)"
        (openItem)="openItem($event)"
    />
}
