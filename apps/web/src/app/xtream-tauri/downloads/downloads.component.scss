.downloads {
    display: flex;
    flex-direction: column;
    height: 100%;
    padding: 1rem;
    overflow: hidden;

    &__header {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 1rem;
        padding-bottom: 1rem;
        border-bottom: 1px solid var(--border-color, rgba(0, 0, 0, 0.12));

        &-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;

            h1 {
                margin: 0;
                font-size: 1.5rem;
                font-weight: 500;
            }

            .back-btn {
                margin-right: 0.5rem;
            }
        }

        &-actions {
            display: flex;
            gap: 0.5rem;
        }
    }

    &__badge {
        background: var(--primary-color, #3f51b5);
        color: white;
        padding: 0.125rem 0.5rem;
        border-radius: 12px;
        font-size: 0.75rem;
        font-weight: 600;
    }

    &__folder {
        display: flex;
        align-items: center;
        gap: 0.75rem;
        padding: 0.75rem 1rem;
        margin-bottom: 1rem;
        background: var(--surface-color, #f5f5f5);
        border-radius: 8px;

        mat-icon {
            color: var(--text-secondary, rgba(0, 0, 0, 0.6));
        }

        &-path {
            flex: 1;
            font-family: monospace;
            font-size: 0.875rem;
            color: var(--text-secondary, rgba(0, 0, 0, 0.6));
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
        }
    }

    &__empty {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        flex: 1;
        text-align: center;
        color: var(--text-secondary, rgba(0, 0, 0, 0.6));

        mat-icon {
            font-size: 4rem;
            width: 4rem;
            height: 4rem;
            margin-bottom: 1rem;
            opacity: 0.5;
        }

        p {
            margin: 0 0 0.5rem;
            font-size: 1.25rem;
            font-weight: 500;
        }

        span {
            font-size: 0.875rem;
        }
    }

    &__list-wrapper {
        flex: 1;
        overflow-y: auto;
        margin: 0 -1rem;
        padding: 0 1rem;
    }

    &__list {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    &__item {
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1rem;
        background: var(--card-background, #fff);
        border-radius: 12px;
        border: 1px solid var(--border-color, rgba(0, 0, 0, 0.08));
        transition: box-shadow 0.2s ease, transform 0.2s ease;

        &:hover {
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        &.status-downloading {
            border-left: 4px solid #2196f3;
        }

        &.status-completed {
            border-left: 4px solid #4caf50;
        }

        &.status-failed {
            border-left: 4px solid #f44336;
        }

        &.status-queued {
            border-left: 4px solid #9e9e9e;
        }

        &-poster {
            width: 60px;
            height: 85px;
            border-radius: 6px;
            overflow: hidden;
            flex-shrink: 0;
            background: var(--surface-color, #f5f5f5);
            display: flex;
            align-items: center;
            justify-content: center;

            img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            mat-icon {
                font-size: 2rem;
                width: 2rem;
                height: 2rem;
                color: var(--text-secondary, rgba(0, 0, 0, 0.38));
            }
        }

        &-info {
            flex: 1;
            min-width: 0;
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }

        &-title {
            font-size: 1rem;
            font-weight: 500;
            overflow: hidden;
            text-overflow: ellipsis;
            white-space: nowrap;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        &-meta {
            display: flex;
            align-items: center;
            gap: 1rem;
            font-size: 0.8125rem;
            color: var(--text-secondary, rgba(0, 0, 0, 0.6));
        }

        &-status {
            display: flex;
            align-items: center;
            gap: 0.25rem;

            mat-icon {
                font-size: 1rem;
                width: 1rem;
                height: 1rem;
            }

            &.status-downloading {
                color: #2196f3;
            }

            &.status-completed {
                color: #4caf50;
            }

            &.status-failed {
                color: #f44336;
            }

            &.status-queued {
                color: #9e9e9e;
            }
        }

        &-size {
            font-family: monospace;
        }

        &-error {
            color: #f44336;
            font-size: 0.75rem;
        }

        &-actions {
            display: flex;
            gap: 0.25rem;
            flex-shrink: 0;
        }

        mat-progress-bar {
            margin-top: 0.5rem;
            border-radius: 4px;
        }
    }

    &__episode-badge {
        background: var(--primary-color, #3f51b5);
        color: white;
        padding: 0.125rem 0.375rem;
        border-radius: 4px;
        font-size: 0.6875rem;
        font-weight: 600;
        text-transform: uppercase;
    }
}

// Dark theme support
:host-context(body.dark-theme) {
    .downloads {
        &__header {
            border-bottom-color: rgba(255, 255, 255, 0.12);
        }

        &__folder {
            background: rgba(255, 255, 255, 0.05);

            mat-icon {
                color: rgba(255, 255, 255, 0.6);
            }

            &-path {
                color: rgba(255, 255, 255, 0.6);
            }
        }

        &__empty {
            color: rgba(255, 255, 255, 0.6);
        }

        &__item {
            background: rgba(255, 255, 255, 0.05);
            border-color: rgba(255, 255, 255, 0.08);

            &:hover {
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
            }

            &-poster {
                background: rgba(255, 255, 255, 0.08);

                mat-icon {
                    color: rgba(255, 255, 255, 0.38);
                }
            }

            &-meta {
                color: rgba(255, 255, 255, 0.6);
            }
        }
    }
}
