<app-dashboard-widget-shell
    [eyebrow]="'WORKSPACE.DASHBOARD.LIBRARY' | translate"
    [title]="'WORKSPACE.DASHBOARD.GLOBAL_FAVORITES' | translate"
>
    <ng-container widget-actions>
        <button
            mat-icon-button
            [matMenuTriggerFor]="filterMenu"
            aria-label="Filter global favorites content"
            [matTooltip]="'WORKSPACE.DASHBOARD.FILTER_ITEMS' | translate"
        >
            <mat-icon>filter_list</mat-icon>
        </button>
        <mat-menu #filterMenu="matMenu">
            <button mat-menu-item (click)="onKindChange('all')">
                <mat-icon>{{
                    selectedKind() === 'all' ? 'check' : ''
                }}</mat-icon>
                <span [class.active-filter]="selectedKind() === 'all'"
                    >{{ 'WORKSPACE.DASHBOARD.ALL' | translate }} ({{
                        counts().all
                    }})</span
                >
            </button>
            <button mat-menu-item (click)="onKindChange('channels')">
                <mat-icon>{{
                    selectedKind() === 'channels' ? 'check' : ''
                }}</mat-icon>
                <span [class.active-filter]="selectedKind() === 'channels'"
                    >{{ 'WORKSPACE.DASHBOARD.CHANNELS' | translate }} ({{
                        counts().channels
                    }})</span
                >
            </button>
            <button mat-menu-item (click)="onKindChange('vod')">
                <mat-icon>{{
                    selectedKind() === 'vod' ? 'check' : ''
                }}</mat-icon>
                <span [class.active-filter]="selectedKind() === 'vod'"
                    >{{ 'WORKSPACE.DASHBOARD.VOD' | translate }} ({{
                        counts().vod
                    }})</span
                >
            </button>
            <button mat-menu-item (click)="onKindChange('series')">
                <mat-icon>{{
                    selectedKind() === 'series' ? 'check' : ''
                }}</mat-icon>
                <span [class.active-filter]="selectedKind() === 'series'"
                    >{{ 'WORKSPACE.DASHBOARD.SERIES' | translate }} ({{
                        counts().series
                    }})</span
                >
            </button>
        </mat-menu>

        <mat-button-toggle-group
            class="view-toggle"
            [value]="viewMode()"
            hideSingleSelectionIndicator
            aria-label="Select global favorites view mode"
            (change)="onViewModeChange($event.value)"
        >
            <mat-button-toggle
                value="list"
                [aria-label]="'WORKSPACE.DASHBOARD.LIST_VIEW' | translate"
            >
                <mat-icon>view_list</mat-icon>
            </mat-button-toggle>
            <mat-button-toggle
                value="grid"
                [aria-label]="'WORKSPACE.DASHBOARD.GRID_VIEW' | translate"
            >
                <mat-icon>grid_view</mat-icon>
            </mat-button-toggle>
        </mat-button-toggle-group>
    </ng-container>

    <app-dashboard-activity-items
        [items]="activityItems()"
        [emptyLabel]="'WORKSPACE.DASHBOARD.NO_FAVORITES' | translate"
        [viewMode]="viewMode()"
        (scrolledToEnd)="onItemsScrolledToEnd()"
    />
</app-dashboard-widget-shell>
